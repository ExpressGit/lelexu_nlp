宇航学 报 
 JOURNALOFASTRONAUTICS 
 1998 年 第 19 卷 第 1 期 No1Vol.91998 科技期刊 
 
 　 空间 机械 臂 动力学 奇点 与 回避 
 顾晓勤 
 ( 河北师范大学 机械系 * 石家庄 * 050031 ) 
 刘延柱 
 ( 上海交通大学 工程力学 系 * 上海 * 200030 ) 
 　 　 摘 　 要 　 本文 导出 空间 机械 臂 非 完整 约束方程 , 讨论 自由 漂浮 系统 动力学 奇点 问题 , 对 冗余 和 非 冗余 系统 分别 提出 避免 奇点 的 方法 , 对 平面 运动 情形 得到 减少 奇点 出现 的 工程 方法 。 文中 附有 算例 。 
 　 　 主题词 　 空间 机械 臂 　 动力学 　 多体 动力学 
 AVOIDINGDYNAMICSINGULARITIES 
 OFSPACEMANIPULATOR 
 GuXiaoqin 
 ( HeberNormalUniversity * Shijiazhuang * 050031 ) 
 LiuYanzhu 
 ( ShanghaiJiaotongUniversity * Shanghai * 200030 ) 
 　 　 Abstract 　 Thenonholonomicconstrainsofspacemanipulatorarederivedinthispaper . Dynamicsigularitiesoffree - floatingsystemisdiscussed , andreducingareaofsingularityforin - planemovingsystemareproposed . Thenumericalsimulationexampleisgiven . 
 　 　 Keywords 　 Spacemanipulator 　 Dynamics 　 Multibodydynamics 
 1 　 引 　 言 
 　 　 空间 机械 臂 可 用于 卫星 释放 、 回收 及 空间站 的 在 轨 建造 维修 等 。 为 节省能源 机械 臂 在 执行 任务 时 载体 姿 控系统 常 暂时 关闭 。 给定 负载 始末 位姿 或 在 惯性 空间 给出 设计 轨迹 求转 铰 运动 规律 时 , 当 广义 Jacobi 矩阵 奇异 则 系统 出现 奇点 , 无法 得到 逆 问题 解 。 由于 漂浮 系统 奇点 与 系统 动力学 特性 有关 故称 动力学 奇点 。 非 完整 约束 使 奇点 的 位置 不仅 与 机械 臂 转角 当前 值 有关 , 还 由 转角 的 时间 历程 决定 , 故 动力学 奇点 是 空间 机械 臂 控制 中 的 难点 和 关键点 。 
 　 　 Papadopoulos 等 在 文 ［ 1 ］ 中将 广义 Jacobi 矩阵 中 机械 臂 转角 、 载体 姿态 角 分离 , 画出 平面 双杆 空间 机械 臂 铰 空间 奇异 曲线 , 并 提出 减小 可能 出现 动力学 奇点 区域 的 方案 。 文 ［ 2 ］ 针对 自由 漂浮 系统 广义 Jacobi 逆 矩阵 不能 由 机械 臂 几何 参数 确定 的 特点 , 提出 用 机械 臂 的 Jacobi 矩阵 替代 方法 , 并 对 近似 线性 方法 给 以 三种 改进 算法 。 本文 导出 系统 的 逆 问题 求解 式 , 指出 动力学 奇点 出现 的 原因 及 物理 意义 。 对于 冗余 自由度 系统 提出 近似 回避 奇点 方法 ; 对 冗余 系统 则 提出 利用 运动学 冗余 顺利实现 设计 轨迹 的 控制算法 , 对 平面 运动 系统 还 讨论 了 减少 动力学 奇点 出现 的 工程 方法 。 
 2 　 逆 问题 求解 
 　 　 设 系统 由 载体 B1 、 机械 臂 Bi ( i = 2 , … , n - 1 ) 、 抓手 和 刚体 负载 Bn 以单 自由度 柱 铰 组成 。 以 系统 质心 0c 为 基点 建立 惯性 基 e0 , 以 各分 体质 心 0ci 为 基点 建立 连体 基 ei ( i = 1 , … , n ) , 设 系统 初始 角动量 为 零 , 无外 力矩 作用 , 由 动量矩 原理 对 0c 点有 : 
 
 ( 1 ) 
 其中 Jj 、 ω j 、 mj 、 ρ j ( j = 1 , … , n ) 分别 为 Bj 的 中心 惯量张量 、 角速度 矢量 、 质量 、 质心 0cj 相对 0c 的 矢径 , 利用 增广 体 矢量 bij 可 将 ρ j 表示 ［ 3 ］ : 
 　 　 　 
 ( 2 ) 
 将 载体 姿态 角 θ 1k ( k = 1 , 2 , 3 ) 和 相应 的 转轴 基 矢量 p1 相对 连体 基 e1 的 投影 列阵 p1k ( k = 1 , 2 , 3 ) 排成 列阵 θ 1 = ［ θ 11 , θ 12 , θ 13 ］ T 和 方阵 p1 = ［ p11 , p12 , p13 ］ , 设 θ j 为 机械 臂 相对 转角 , pj 为 相应 的 转轴 基 矢量 相对 连体 基 ej 的 投影 列阵 , Aij 为 ej 的 方向 余弦 矩阵 , 引入 增广 体 惯量张量 K * ij , 令 , 记 q = ( θ 2 , θ 3 , … , θ n ) T , 运用 多体 系统 动力学 ［ 3 ］ 将式 ( 1 ) 化为 : 
 
 ( 3 ) 
 　 　 将 ( 2 ) 式 对 时间 求导 , 得到 负载 质心 在 惯性 坐标系 中 速度 : 
 
 ( 4 ) 
 其中 广义 Jacobi 矩阵 J = A01 ( J1Ja2 - J2 , J1Ja3 - J3 , … , J1Jan - Jn ) , 为 增广 体 矢量 在 连体 基 ei 上 的 坐标 方阵 。 
 　 　 对于 给定 的 设计 轨迹 ρ n ( t ) , 由 ( 4 ) 式 得到 当 J 可逆 时 机械 臂 转角 控制 规律 : 
 
 ( 5 ) 
 　 　 当 空间 机械 臂 系统 位形 处于 qS 使 detJ ( qS ) = 0 时 , 系统 出现 奇异 现象 逆 问题 无 解 , 由于 与 广义 Jacobi 矩阵 与 in 有关 , 而 bin 由 整个 系统 质量 几何 特性 确定 , 故 具有 动力学 特征 , 而 地面 机械 臂 只具 运动学 奇点 。 文 ［ 4 ］ 指出 对 空间 臂 当 不 出现 动力学 奇点 时 , 几乎 所有 的 地面 臂 控制 方法 都 可 应用 。 但 由于 载体 的 位姿 在 机械 臂 工作 过程 中 不断 变化 , 而 动量矩 守恒 方程 ( 3 ) 一般 情况 下 不可 积分 , 故 J 不仅 与 q 当前 值 有关 , 还 与 由 q 运动 路径 及 初始值 确定 的 θ 1 有关 , 抓手 惯性 空间 坐标 与 q 不 存在 一一对应 关系 。 所以 动力学 奇点 在 数学 上 精确 讨论 求解 十分困难 , 本文 从 工程 观点 提出 针对性 处理 方法 。 
 3 　 避开 奇点 法 
 ( a ) 无 冗余 自由度 空间 臂 系统 
 　 　 动力学 奇点 的 本质 是 广义 Jacobi 矩阵 不满 秩 , 在 物理 上 表现 为 无论 机构 臂 各 铰 如何 运动 都 无法 使 负载 沿某 一 方向 运动 , 为此 本文 认为 对 无 冗余 自由度 系统 只能 在 奇点 附近 对 设计 路径 作 微小 改变 以 达到 控制 可 实现 , 对于 路径 的 偏离 作者 采用 反馈 控制 方法 在 空间 臂 系统 通过 奇点 邻域 后 逐渐 消除 。 设 负载 质心 设计 运动 轨迹 ρ dn , 实际 运动 轨迹 ρ n , 规定 机械 臂 转角 规律 : 
 　 　 　 
 ( 6 ) 
 式 中 误差 为 机械 臂 转角 最大 允许 转速 , K 为 位置 反馈 增益 阵 , 可 选取 K = diag ( k2 , k3 , … , kn ) , ki ＞ 0 ( i = 2 , … , n ) 时 运动 具有 渐近 稳定性 。 
 ( b ) 冗余 自由度 系统 
 　 　 由 前面 的 讨论 可知 , 空间 臂 处于 动力学 奇点 时 , 抓手 至少 失去 一个 自由度 , 为 使 负载 严格 沿 设计 轨迹 运动 , 应 增加 机械 臂 自由度 。 设 机械 非 冗余 自由度 相对 转角 θ i , 冗余 自由度 相对 转角 θ j , 分别 记 为 列阵 q α , q β , 由 ( 4 ) 式 : 
 
 ( 7 ) 
 当 detJ α ≠ 0 时 , 取 , 对于 三维 6 自由度 空间 机械 臂 , q α = ( θ 2 , θ 3 , θ 4 ) T 代表 各臂 相对 转角 , q β = ( θ 5 , θ 6 , θ 7 ) T , J α 及 J β 分别 为 3 × 3 阶 分块 矩阵 。 设 第 k 步算时 detJ ( k ) α = 0 , 则 取 控制算法 
 　 　 　 
 ( 8 ) 
 ( c ) Lyapunov 方法 
 　 　 对于 给定 负载 位姿 始末 值 而 对 运送 路径 不 作 要求 时 , 可 运用 Lyapunov 方法 实现 避免 奇点 的 路径 规划 。 设 ρ nf 为 负载 位姿 目标值 , 设计 转角 qi ( i = 2 , … , n ) 的 变化规律 
 
 ( 9 ) 
 其中 AV 为 正定 常数 矩阵 。 当时 , 负载 位姿 严格 按 ( 5 ) 式 定义 的 曲线运动 ; 当时 , 出现 回避 奇点 情行 , 由于 Lyapunov 规划 方法 的 渐近 稳定性 , 此 方法 可 保证 最终 趋向 目标值 。 
 4 　 减小 动力学 奇点 影响 的 方法 
 　 　 讨论 平面 运动 情形 , 设 ei1 沿 0i0i + 1 方向 , 由 方程 ( 2 ) 得 负载 质心 0c4 相对 总 质心 Oc 的 矢径 ρ 4 , 依靠 ( 3 ) 、 ( 4 ) 式 计算 得到 
 
 ( 10 ) 
 由 等效 惯量 Ii ( i = 1 , 2 , 3 ) 定义 可知 Ii 仅 是 θ 2 , θ 3 的 函数 , 与 θ 1 无关 。 A01 即 e0 基 相对 e1 基的 方向 余弦 阵 , detA01 = 1 , 故由 ( 4 ) 、 ( 10 ) 得 奇点 处 detJ = detJ * = 0 。 
 　 　 因 J * 中 不 包括 载体 姿态 角 θ 1 , 故 奇点 在 系统 转角 空间 仅 由 机械 臂 相对 位形 qs 决定 , 一旦 载体 - 机载 臂 质量 几何 特性 确定 , 作为 非线性 方程 detJ * ( qs ) = 0 定义 的 曲线 θ 2 - θ 3 便 可 求得 。 但 在 抓手 惯性 坐标 空间 , ρ 4 与 θ 2 、 θ 3 及 e1i ( θ 1 ) 有关 , 而 θ 1 与 θ 2 、 θ 3 仅 存在 非 完整 约束 , 故 抓手 坐标 惯性 空间 与 铰 空间 点 无 一一对应 关系 , 由 qs 不能 确定 惯性 空间 中 动力学 奇点 。 
 ( a ) 机械 臂 基点 与 载体 质心 重合 
 　 　 将 空间 臂 基点 O2 安装 在 载体 质心 Oc1 处 , 则 增广 体 矢量 b1i = 0 , 代入 ( 10 ) 得到 : 
 detJ * = b24b34 ( I1 - I2 ) sin θ 3 / I1 
 ( 11 ) 
 
 
 图 1 　 奇点 分布 
 由于 I1 ≠ 0 ( i = 1 , 2 , 3 ) , I1 - I2 = J1 ≠ 0 , 故 θ 3 = k π ( k = 0 , ± 1 ) 为 动力学 奇点 。 当 k = 0 时 , 抓手 处于 工作 空间 的 外缘 , 如图 1 中 C1 ; 当 k = ± 1 时 处于 内缘 即 C2 。 由 ( 2 ) 式 计算 得到 工作 半径 为 r1 = b24 + b34 , r2 = ｜ b24 - b34 ｜ 。 
 ( b ) 打开 载体 姿态控制 系统 
 　 　 对于 无 冗余 自由度 空间 臂 , 减少 出现 奇点 的 另 一 方法 是 对 载体 进行 姿态 稳定 。 令 , 这时 系统 不 受 动量矩 守恒 约束 , 简化 ( 10 ) 式 得到 广义 Jacobi 阵 , 进而 求得 detJ * = b24b34sin θ 3 , 同 上面 分析 类似 , 动力学 奇点 处于 图 1 中 C1 、 C2 圆上 。 从 物理 意义 上 看 , 由于 A01 ( θ 1 ) 不变 在 铰 空间 确定 的 动力学 奇点 可 一一 映射 到 抓手 惯性 坐标 空间 , 这时 空间 机械 臂 系统 相当于 以 O * 2 为 基点 ( OcO * 2 = b1n ) 、 以 增广 体 矢量 bjn 为杆 、 各转 铰基 矢量 为 pj ( j = 2 , … , n ) 的 等价 固定 基底 机械 臂 Sf , 空间 臂 动力学 奇点 即 系统 Sf 的 运动学 奇点 。 设计 负载 质心 在 惯性 空间 运动 轨迹 时 , 只要 不 达到 工作 空间 的 边缘 便 可 顺利实现 控制 机械 臂 相对 转角 。 
 5 　 算 　 例 
 　 　 设无 冗余 自由度 空间 机械 臂 系统 质量 几何 参数 为 m1 = 700kg , m2 = 10kg , 下臂 、 抓手 及 负载 共计 m3 = 290kg , 中心 主 惯量 Ji 分别 为 500 、 30 、 300kg * m2 , 020c2 = 3m , 030c3 = 5m , 0203 = 6m , 铰 O3 至 负载 质心 P 距离 5m 。 设 系统 在 OC - e01e02 平面 内 运动 , 要求 负载 质心 沿 设计 轨迹 x + 2y = 16.84 运动 , 起点 A ( 8.28 , 4.28 ) , 终点 B ( 8.16 , 4.22 ) , 在 C 处 遇到 动力学 奇点 , 图 2 为 按 本文 方法 得到 的 转角 变化规律 , 图 3 为 负载 质心 运动 轨迹 。 
 
 
 图 2 　 转角 变化规律 
 
 
 图 3 　 负载 质心 运动 轨迹 
 6 　 结 　 论 
 　 　 空间 机械 臂 系统 逆 动力学 奇点 是 控制 设计 中 必须 考虑 的 问题 , 由于 自由 漂浮 系统 动量矩 守恒 这一非 完整 约束 的 存在 , 使 动力学 奇点 在 负载 惯性 空间 不能 予先 确定 , 往往 沿 不同 工作 路径 到达 同一 目标 可 导致 不同 结果 , 本文 对 冗余 自由度 系统 和 非 冗余 自由度 系统 分别 提出 处理 方法 , 对 动力学 奇点 从 物理 意义 及 数学 概念 上 给 以 讨论 , 为 减少 动力学 奇点 的 影响 , 本文 提出 将 机械 臂 基座 安装 于 载体 质心 或者 打开 载体 姿态控制 系统 进行 姿态 稳定 , 上述 处理 方法 从 工程 实践 中 对 空间 机械 臂 逆 动力学 研究 、 控制 设计 具有 较 高 的 参考价值 。 
 参考文献 
 　 1 　 PapadopoulosEetal . J . Dyn . Sys . , Meas . Cont . , 1993 , ( 115 ) : 44 - 52 
 　 2 　 XiFetal . IEEEInt . Conf . Robot . Auto . , SanDiego . California , 1994 , 3460 - 3465 
 　 3 　 刘延柱 . 航天器 姿态 动力学 . 北京 : 国防工业 出版社 , 1995 : 228 - 293 
 　 4 　 KarrayFetal . NonlinearDynamics , 1994 ( 5 ) : 71 - 91 
 本文 于 1996 年 7 月 8 日 收到 
 　 　 * 国家自然科学基金 重点项目 及 河北省 博士 科研 基金项目 
