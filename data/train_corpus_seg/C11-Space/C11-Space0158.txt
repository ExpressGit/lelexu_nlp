宇航学 报 
 JOURNALOFASTRONAUTICS 
 1998 年 第 3 期 No.3 May1998 
 科技期刊 
 基于 系统 特征 的 自 适应 被动 容错 
 控制 及其 应用 研究 * 
 解 永春 　 何 英姿 　 吴宏鑫 
 ( 北京 控制工程 研究所 * 北京 2729 信箱 * 100080 ) 
 　 　 摘 　 要 　 本文 在 黄金分割 鲁棒 自 适应 控制器 ［ 1 ， 2 ］ 的 基础 上 ， 设计 了 一种 自 适应 被动 容错 控制器 ， 能 在线 辨识 对象 特征 模型 ， 在线 提取 系统 动态 性能 特征 和 故障 特征 ， 对 控制系统 执行机构 和 测量 部件 的 某些 软故障 具有 被动 容错 能力 。 与 传统 PID 控制 的 对比 仿真 充分说明 了 这种 控制 方案 的 优越性 。 
 　 　 主题词 　 自 适应控制 　 软故障 　 故障 特征 　 性能 特征 　 被动 容错 
 ADAPTIVEPASSIVEFAULT - TOLERANTCONTROL 
 BASEDONSYSTEMCHARACTERISTIC 
 EXTRACTANDITSAPPLICATION 
 XieYongchun 　 HeYingzi 　 WuHongxin 
 ( BeijingInstituteofControlEngineering * BeijingBox2729 * 100080 ) 
 　 　 Abstract 　 Basedonthegolden - sectionrobustadaptivecontroller , apassivelyadaptivefaulttolerantcontrollerisdesigned . Thecontrollercanidentifycharacteristicmodelofaplantandonlineextractsystemdynamicperformanceandfaultproperties . Soitisabletopassivelytoleratesomesoftfaultsofactuatorsandsensorsofacontrolsystem . TheadvantagesofthiscontrollerhavebeenshowedbythesimulationresultscomparedwiththePIDcontroller . 
 　 　 Keywords 　 Adaptivecontrol 　 Softfailure 　 Faultcharacteristics 　 Performanceproperties 　 Passivefault - tolerant 
 1 　 引言 
 　 　 被动 容错 控制 ( 又称 鲁棒 容错 控制 ) 是 容错 控制 研究 领域 的 一个 重要 分支 ， 这 类 方法 离线 设计 控制器 ， 在线 应用 时 无需 故障 检测 和 诊断 便 可 对 一定 范围 内 的 故障 容错 。 
 　 　 目前 常用 的 被动 容错 控制 设计 方法 有 完整性 控制 设计 方法 、 同时 镇定 以及 多 模型 自 适应 方法 等 ， 这些 方法 均 具有 一定 的 局限性 ， 或 设计 复杂 、 条件 苛刻 ， 或 以 损失 正常 系统 性能 为 代价 ， 因此 在 实际 系统 中 难以 应用 。 另外 ， 它们 都 针对 硬 故障 ( 突变型 故障 ) 来 设计 ， 未 考虑 软故障 ( 缓 变型 故障 ) 情况 。 本文 基于 黄金分割 鲁棒 自 适应控制 方法 ［ 1 ， 2 ］ ， 在线 辨识 对象 的 特征 模型 ， 在线 提取 系统 动态 性能 特征 和 故障 特征 ， 实时 修改 控制器 ， 设计 了 一种 自 适应 被动 容错 控制器 。 对 某 型号 卫星 三轴 姿态控制 的 仿真 研究 表明 ， 这种 方案设计 简便 ， 实现 容易 ， 控制 效果 好 ， 对 测量 系统 和 执行机构 的 软故障 具有 很强 的 被动 容错 能力 。 
 
 
 图 1 　 自 适应 被动 容错 控制系统 结构 简图 
 2 　 控制系统 设计 
 2.1 　 自 适应 被动 容错 控制系统 结构 
 　 　 如图 1 所示 为本 控制系统 的 结构 方框图 。 
 　 　 图中 的 控制器 是 以全 系数 自 适应控制 方法 ［ 3 ］ 为 基础 ， 基于 对象 特征 模型 ， 包括 黄金分割 控制 、 逻辑 积分控制 和 逻辑 微分 控制 在内 的 黄金分割 鲁棒 自 适应 控制器 ［ 2 ］ ， 其 基本 结构 为 
 
 　 　 其中 ， ul ( k ) , ui ( k ) , ud ( k ) , u ( k ) 分别 代表 黄金分割 控制 量 、 逻辑 积分控制 量 、 逻辑 微分 控制 量 和 总 控制 量 ； k 为 离散 时间 变量 ， Δ T 为 控制 周期 ； y , 是 测量 值 ； α 1 ， α 2 ， β 0 是 由 全 系数 方法 估计 得到 的 特征 模型 参数 ； sgn ( * ) 是 符号 函数 ； kp ( k ) , ki ( k ) , kd ( k ) 是 控制器 增益 系数 ， ei ( k ) , ed ( k ) 是 积分 、 微分 参数 ， 它们 均 可 根据 对象 的 特点 或 运行 特性 在线 自动 调整 。 
 2.2 　 基于 系统 特征 的 自 适应 被动 容错 控制器 调整 
 　 　 文 ［ 2 ］ 已经 证明 了 黄金分割 控制器 具有 良好 的 动态 和 静态 特性 ， 对 一定 范围 内 的 模型 不确定性 具有 良好 的 鲁棒性 。 本文 在 此基础 上 引入 特征提取 思想 ， 进一步 改善 了 系统 的 性能 ， 并 对 测量 部件 和 执行机构 的 某些 软故障 具有 被动 容错 能力 。 
 　 　 特征提取 包括 系统 动态 性能 特征提取 和 测量 元件 故障 特征提取 。 性能 特征提取 指 在线 获得 系统 的 某些 动态 性能指标 ； 故障 特征提取 指 控制系统 根据 测量 值 在线 获得 测量 的 噪声 方差 σ 。 系统 根据 这些 提取 的 特征 量 在线 调节 控制器 的 参数 。 
 　 　 在 系统 运行 的 整个 过程 中 ， 控制器 辨识 对象 的 特征 模型 ， 利用 所 辨识 出 的 参数 α 1 ， α 2 ， β 0 调整 黄金分割 控制器 ， 这 可以 使得 控制系统 对 执行机构 和 敏感 器 增益 变化 的 软故障 具有 被动 容错性 。 在 过渡 过程 ， 控制系统 根据 在线 获得 的 性能 特征 ， 对 逻辑 微分 控制器 参数 kd ( k ) , ed ( k ) 进行 调整 ， 使 动态 性能 得以 改善 。 在 稳态 ， 根据 在线 测得 的 σ 的 大小 相应 地 改变 黄金分割 控制 和 逻辑 积分控制 的 增益 系数 ， 即 kp ( k ) 和 ki ( k ) ， 这 可以 使 控制系统 对 敏感 器 噪声 增大 、 性能 变坏 的 软故障 具有 被动 容错性 ， 这部分 的 参数 调整 措施 依据 下面 的 定理 1 、 定理 2 。 
 　 　 一般而言 ， 对于 长时间 稳定 运行 的 系统 ， 元 部件 发生 故障 之前 系统 均 能 达到 稳态 ， 因此 ， 下面 以 定理 1 、 定理 2 的 形式 给出 稳态 情况 下当 在线 提取 的 故障 特征参数 σ 变化 时 调整 控制器 参数 kp ( k ) , ki ( k ) 的 原则 。 由于 系统 运行 达到 稳态 时 ， 黄金分割 控制 、 逻辑 积分控制 均 退化 成 一般 的 P 、 I 控制器 形式 ， 因此 在 下面 的 定理 中均 使用 常规 P 、 I 控制器 。 
 定理 1 ： 对于 单 输入 单 输出 的 线性 定常 对象 
 x ( k + 1 ) = Ax ( k ) + bu ( k ) 
 ( 2 ) 
 y ( k ) = cx ( k ) + v ( k ) 
 ( 3 ) 
 　 　 其中 ， x ( k ) 是 n × 1 维 状态 向量 ， u ( k ) 是 控制 输入 ， y ( k ) 是 测量 输出 ， v ( k ) 是 零 均值 白 噪声 ， E { v ( k ) vT ( j ) } = Q δ kj ， A ， b , c 是 相应 维数 的 矩阵 或 向量 。 
 　 　 若 采用 比例 控制器 ： u ( k ) = kp ( k ) y ( k ) , 则 在 保证系统 稳定 的 前提 下 ， 在 稳态 要 使 E { xT ( k + 1 ) x ( k + 1 ) } 较 小 ， kp ( k ) 的 选取 应 与 Q 成反比 。 
 　 　 证明 ： 
 　 　 
 　 　 在 保证系统 稳定 的 前提 下 ， ‖ A + bckp ‖ ＜ 1 ， 且 x ( k ) 在 稳态 较 小 。 所以 ， E { xT ( k + 1 ) x ( k + 1 ) } 主要 由 的 选取 应 与 Q 成反比 。 
 　 　 证毕 。 
 定理 2 ： 对于 式 ( 2 ) 、 式 ( 3 ) 所示 单 输入 单 输出 线性 定常 对象 ， 若 采用 积分 控制器 ： u ( k ) = u ( k - 1 ) + ki ( k ) y ( k ) ， 则 在 保证系统 稳定 的 前提 下 ， 在 稳态 要 保证 1 ) } 较 小 ， ki ( k ) 的 选取 应 与 Q 与 反比 ， 其中 
 证明 ： 
 　 　 将 u ( k ) = u ( k - 1 ) + kicx ( k ) + kiv ( k ) 代入 式 ( 2 ) 有 
 x ( k + 1 ) = ( A + bkic ) x ( k ) + bu ( k - 1 ) + kibv ( k ) 
 ( 4 ) 
 由此 写出 扩展 向量 的 状态方程 
 
 ( 5 ) 
 式 ( 5 ) 可 简写 成 
 
 故 
 
 　 　 若 要 保证系统 稳定 ， 则 + 1 ) } 主要 由 的 选取 应 与 Q 成反比 。 
 　 　 证毕 。 
 3 　 应用 
 　 　 为 验证 前面 所 研究 的 方法 的 有效性 ， 我们 选取 了 某 型号 卫星 的 三轴 姿态控制 作为 仿真 研究 对象 。 
 3.1 　 对象 特点 
 　 　 此 型号 卫星 是 一种 要求 指向 精度 和 指向 稳定度 高 、 运行 寿命长 、 对 地 定向 的 三轴 稳定 卫星 。 它 带有 一块 薄且 轻 的 单翼 太阳 帆板 ， 运行 于 800 公里 左右 高度 的 太阳 同步 轨道 上 。 其 姿态控制 特点 为 ： 
 　 　 1 . 帆板 挠性 振动 及 帆板 驱动 机构 对 星体 的 影响 较大 。 
 　 　 2 . 卫星 姿态 测量 依靠 陀螺 、 红外 地平仪 和 太阳 敏感 器 ， 这些 测量 部件 存在 较大 噪声 。 卫星 在 轨 长期 运行 过程 中 ， 容易 发生 敏感 器 噪声 方差 增大 等 软故障 。 
 　 　 3 . 卫星 姿态控制 模式 多样 ， 包括 入轨 段 喷气 姿态控制 、 轨控段 喷气 姿态控制 、 捕获 地球 、 正常 飞轮 控制 等 控制 模式 。 其中 飞轮 控制 模式 是 卫星 寿命 期间 使用 最多 的 模式 ， 易 发生 飞轮 摩擦 力矩 增大 ， 输出 增益 衰减 的 软故障 。 
 　 　 4 . 由于 存在 测量 噪声 及 帆板 振动 的 影响 ， 卫星 姿态 易 发生 抖动 。 因此 姿态控制 除 要求 姿态 角 达到 一定 控制精度 外 ， 同时 要求 姿态 角 比较稳定 ， 这 也 就 要求 系统对 一些 软故障 具有 好 的 鲁棒性 。 
 　 　 卫星 动力学 模型 包括 星体 转动 动力学 方程 、 帆板 驱动 动力学 方程 和 帆板 挠性 振动 动力学 方程 三 部分 。 其 基本 方程 ( 仿真 时取 太阳 帆板 前 三个 挠性 模态 ) 如下 ［ 4 ］ ： 
 
 其中 ： 
 　 　 
 Ras 太阳 帆板 驱动 运动 的 耦合 系数 矩阵 
 
 　 　 IA 太阳 帆板 绕 驱动 轴 的 转动惯量 
 　 　 　 　 　 　 　 　 IA = 31NMS2 
 　 　 FA 帆板 驱动 运动 挠性 模态 的 耦合 系数 
 　 　 　 　 　 　 　 　 FA = ( 00 - 4.9 ) 
 　 　 ξ 挠性 模态 相对 阻尼 率 
 　 　 Ω 挠性 模态 振动 频率 矩阵 
 　 　 运算符 
 3.2 　 控制 律 设计 
 　 　 在 卫星 的 各种 控制 模式 中 ， 喷气 控制 根据 预定 的 控制 逻辑 实施 ， 而 飞轮 控制 则 根据 姿态 角 和 姿态 角速度 按 一定 控制 律 实施 。 在 卫星 整个 寿命 中 ， 大部分 时间 都 运行 于 正常 飞轮 控制 模式 中 ， 且 这个 模式 对 控制 性能 要求 最高 ， 这 就 希望 控制器 不仅 在 正常 情况 下 具有 良好 的 控制 品质 ， 同时 也 希望 对 敏感 器 、 执行机构 等 的 软故障 具有 鲁棒 容错 的 能力 。 本文 利用 前述 的 智能 自 适应控制 方案 对 卫星 在 飞轮 控制 模式 下 正常 运动 和 多种 软故障 情况 下 进行 三个 通道 姿态控制 仿真 。 
 
 　 　 在 这 一 控制 方案 中 ， 我们 设计 了 基于 黄金分割 控制 的 鲁棒 自 适应控制 ， 对 ( 6 ) 式 中 的 控制器 参数 α 1 ， α 2 和 增益 β 0 进行 在线 辩识 ， 从而 保证 控制器 对 执行机构 、 敏感 器 增益 变化 的 软故障 具有 被动 容错性 。 式 ( 6 ) 中 的 w ( k ) 是 加权 值 ， 根据 在线 提取 的 红外 和 陀螺 的 测量 噪声 方差 来 调整 ， 可以 保证 黄金分割 控制器 利用 较 多 的 正确 测量 信息 而 尽可能减少 使 敏感 器 性能 变坏 的 软故障 所 产生 的 影响 。 同时 依照 这些 在线 提取 的 测量 噪声 方差 ， 按照 前面 给出 的 定理 1 和 定理 2 对 控制器 增益 kp ( k ) , ki ( k ) 进行 调整 以 保证 软故障 下较 好 的 控制 性能 。 另外 ， 利用 在线 提取 的 系统 性能 特征 来 调整 逻辑 积分 控制器 和 逻辑 微分 控制器 系数 ， 使 系统 动态 性能 得以 改善 。 这样一来 ， 保证 整个 控制器 在 系统 正常 工作 和 某些 软故障 情况 下均 有 良好 的 动态 和 静态 特性 。 
 3.3 　 仿真 结果 
 　 　 为了 说明 本 方案 的 有效性 ， 对 卫星 三轴 姿态控制 系统 分别 在 正常 情况 和 多种 常见 软故障 情况 下 进行 了 仿真 ， 并 与 PID 控制 结果 进行 了 比较 。 正常 情况 和 软故障 情况 下 的 本 控制 与 PID 控制 结果 的 比较 见表 1 。 PID 控制器 的 参数 见 ［ 4 ］ 。 
 表 1 　 经典 PID 与 智能 自 适应控制 ( 简称 ADP ) 仿真 结果 
 对比 ( x 、 y 、 z 分别 代表 滚动 、 俯仰 和 偏航 ) 
 仿真 
 情况 控制 
 方法 　 三轴 姿态 超调 
 ( ° ) 稳态 时间 
 ( s ) 稳态 最大 姿态 
 偏差 ( ° ） 姿态 角 方差 
 ( ° ） 角速度 方差 
 ( ° ／ s ) 
 正常 情况 PIDx 
 y 
 z0.5233 
 0.5174 
 0.5315102 . 0000 
 98.0000 
 101.00000 . 0818 
 0.0841 
 0.09250 . 0256 
 0.0243 
 0.02420 . 0023 
 0.0022 
 0.0025 
 ADPx 
 y 
 z0.5234 
 0.5156 
 0.531657 . 0000 
 50.0000 
 66.00000 . 0522 
 0.0428 
 0.05610 . 0189 
 0.0161 
 0.01720 . 0014 
 0.001 
 0.0016 
 卫星 转动 惯 
 量 增大 1 倍 PIDx 
 y 
 z0.5429 
 0.5260 
 0.5524228 . 0000 
 111.0000 
 120.00000 . 0940 
 0.0871 
 0.08300 . 0304 
 0.0284 
 0.02670 . 0019 
 0.0018 
 0.0018 
 ADPx 
 y 
 z0.5429 
 0.5244 
 0.5526111 . 0000 
 105.0000 
 76.00000 . 0583 
 0.0472 
 0.05590 . 0213 
 0.0176 
 0.01870 . 0008 
 0.0007 
 0.0009 
 红外 地平仪 噪 
 声 方差 增大 3 倍 PIDx 
 y 
 z0.5233 
 0.5173 
 0.5315101 . 000 
 207.0000 
 101.00000 . 2714 
 0.2451 
 0.09250 . 0784 
 0.0732 
 0.02420 . 0062 
 0.0064 
 0.0028 
 ADPx 
 y 
 z0.5302 
 0.5156 
 0.531585 . 0000 
 49.0000 
 66.00000 . 1516 
 0.1362 
 0.05620 . 0496 
 0.0468 
 0.01720 . 0027 
 0.0025 
 0.0017 
 陀螺 噪声 方 
 差 增大 3 倍 PIDx 
 y 
 z0.5233 
 0.5174 
 0.5315102 . 0000 
 98.0000 
 101.00000 . 0820 
 0.0841 
 0.09260 . 0256 
 0.0243 
 0.02420 . 0023 
 0.0022 
 0.0025 
 ADPx 
 y 
 z0.5234 
 0.5156 
 0.531657 . 0000 
 50.0000 
 66.00000 . 0524 
 0.0432 
 0.05600 . 0189 
 0.0160 
 0.01720 . 0014 
 0.001 
 0.0016 
 飞轮 摩擦 力矩 
 系数 增大 5 倍 PIDx 
 y 
 z0.5175 
 0.5140 
 0.5447103 . 0000 
 105.0000 
 101.00000 . 0807 
 0.0833 
 0.09070 . 0254 
 0.0240 
 0.02390 . 0023 
 0.0021 
 0.0025 
 ADPx 
 y 
 z0.5177 
 0.5131 
 0.544996 . 0000 
 102.0000 
 98.00000 . 0528 
 0.0423 
 0.05720 . 0191 
 0.0159 
 0.01710 . 0014 
 0.001 
 0.0016 
 敏感 器 
 最坏 噪 
 声 组合 PIDx 
 y 
 z0.5240 
 0.5170 
 0.5322102 . 0000 
 207.0000 
 99.00000 . 2666 
 0.2622 
 0.26410 . 0823 
 0.0735 
 0.07580 . 0065 
 0.0065 
 0.0070 
 ADPx 
 y 
 z0.5324 
 0.5156 
 0.541790 . 0000 
 140.0000 
 67.00000 . 1895 
 0.1233 
 0.17060 . 0616 
 0.0477 
 0.05260 . 0032 
 0.0029 
 0.0034 
 仿真 结果表明 ， 本文 所 设计 的 自 适应 被动 容错 控制 较之 经典 的 PID 控制 不仅 在 正常 情况 下动 静态 性能 好 ， 并且 对系统 的 各种 软故障 具有 较强 的 鲁棒 容错性 。 在 对象 参数 变化 ( 如 整星 转动惯量 增大 1 倍 ) ； 执行机构 发生 软故障 ( 如 飞轮 摩擦系数 增大 5 倍 ) ； 以及 敏感 器 噪声 方差 增大 等 情况 下 ， 均 能 获得 较 好 的 控制 品质 。 
 4 　 结论 
 　 　 本文 所 设计 的 自 适应 被动 容错 控制器 ， 保留 了 黄金分割 鲁棒 自 适应控制 动 静态 性能 好 ， 鲁棒性 强 的 优点 。 同时 由于 引入 特征提取 的 设计 思想 ， 在线 辨识 对象 的 特征 模型 ， 在线 提取 系统 的 动态 性能 特征 以及 测量 敏感 器 和 控制 执行机构 的 软故障 特征 并 据此 实时 调整 控制器 参数 ， 从而 获得 了 较 好 的 对 软故障 的 被动 容错 能力 ， 为 容错 控制系统 的 设计 开辟 了 一条 新 的 途径 。 与 PID 的 对比 仿真 结果 充分说明 了 本 方法 的 有效性 和 优越性 。 
 参考文献 
 1 　 解 永春 ， 吴宏鑫 . 黄金分割 在 自 适应 鲁棒控制 器 设计 中 的 应用 . 自动化 学报 ， 1992 ， 18 ( 2 ) ： 177 - 185 
 2 　 解 永春 . 航天器 鲁棒 自 适应控制 方法 及其 应用 的 研究 . 中国空间技术研究院 北京 控制工程 研究所 ， 博士学位 论文 ， 1994 
 3 　 吴宏鑫 . 全 系数 自 适应控制 理论 及其 应用 . 国防工业 出版社 ， 1990 年 
 4 　 AttitudeControlSystemofEarthSatellite . BeijingInstituteofControlEngineering , 1992 , 4 
