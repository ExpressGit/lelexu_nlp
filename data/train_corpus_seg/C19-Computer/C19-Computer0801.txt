自动化 学报 
 ACTAAUTOMATICASINICA 
 1999 年 第 25 卷 第 6 期 Vol.25 No.61999 
 
 
 
 回转 类 零件 加工 特征提取 方法 的 研究 
 周生祥 
 关键词 　 特征 造型 ， 加工 特征提取 . 
 STUDYONEXTRACTIONOFMACHINING 
 FEATURESABOUTPARTSOFREVOLUTION 
 ZHOUShengxiang 
 ( NationalLaboratoryofCAD / CAM , NorthwesternPolytechnicalUniversity , Xi ' an 　 710072 ) 
 Keywords 　 Featuremodeling , extractionofmachiningfeatures . 
 1 　 引 　 言 
 　 　 CAD / CAPP / CAM 集成 的 关键问题 是 数据共享 . 特征 造型 是 解决 这一 问题 的 工具 . 特征 动态 地 存在 于 产品 生命周期 中 的 各个 阶段 ， 在 不同 的 阶段 其 表现形式 不尽相同 . 通过 研究 特征 在 设计阶段 和 制造 阶段 的 动态 表现形式 ， 提出 了 一种 基于 知识 的 加工 特征提取 方法 . 在 工作站 上以 CADDS5 为 图形 支撑 软件 ， 对 这 一 理论 进行 了 验证 . 
 
 2 　 零件 的 特征 模型 
 　 　 图 1 ( a ) 是 某 齿轮轴 的 形状 特征 图谱 . 其中 BF0 ～ BF7 为主 特征 ， CF0 ～ CF6 为辅 特征 . BF0 ， BF1 ， BF3 ， BF4 和 BF6 为 基本 实体 ( 圆柱体 ) ， 其余 均 为 扫描 实体 ( 直线 扫描 或 回转 扫描 ) . 
 　 　 在 吸取 国内 、 外 成果 的 基础 上 ， 提出 了 一种 适合 于 CAD / CAPP / CAM 集成 的 零件 特征 模型 ［ 1 ］ ， 该 模型 主要 由 以下 几个 部分 组成 ： 
 　 　 1 ) 用图 1 ( b ) 所示 的 二叉树 表达 零件 特征 模型 的 拓扑 结构 ， 每 一个 叶 结点 均 表示 一个 形状 特征 ， 非叶 结点 表示 形状 特征 之间 的 布尔运算 关系 ； 
 
 
 图 1 　 齿轮轴 的 设计 特征 模型 描述 
 　 　 2 ) 用 兼顾 设计 和 制造 两个 方面 的 通用 数据结构 描述 形状 特征 ； 
 　 　 3 ) 用 几何 约束 描述 形状 特征 之间 的 空间 位置 关系 ； 
 　 　 4 ) 以 形状 特征 为 载体 ， 把 尺寸 特征 、 精度 特征 、 表面质量 特征 和 形位 精度 特征 加载 到 形状 特征 的 有关 几何 要素 上 . 
 　 　 特征 及 约束 的 数据结构 及其 之间 的 相互 关系 详见 文献 ［ 1 ］ . 
 
 3 　 加工 特征描述 
 　 　 图 2 表达 了 齿轮轴 使用 型材 毛坯 时 的 加工 特征 图谱 ， 对照 图 1 ( a ) 中 的 设计 特征 图谱 可以 看出 ， 从 设计阶段 到 加工 阶段 主 特征 的 形状 和 数量 都 发生 了 根本性 的 变化 . 图 2 ( a ) , ( b ) 中 的 MF0 ～ MF7 由 凸主 特征 BF0 ～ BF5 转化 而 来 ， 图 2 ( c ) 中 的 MF8 和 MF9 由 凹主 特征 BF6 和 BF7 转化 而 来 ， 辅 特征 CF0 ～ CF6 保持 不变 . 
 
 
 图 2 　 齿轮轴 的 加工 特征 图谱 
 4 　 加工 特征提取 
 4.1 　 推算 毛坯 
 　 　 在 推算 毛坯 之前 首先 对 零件 的 特征 模型 进行 预处理 . 
 　 　 规则 1 . 如果 主 特征 为 齿轮 ( 花键 或 螺纹 ) ， 则 将 其 代之以 一个 主 特征 圆柱 和 一个 辅 特征 齿轮 齿 ( 花键 齿 或 螺纹 牙 ) ， 并 根据 原主 特征 的 尺寸 和 定位 坐标 推算出 该主 特征 和 辅 特征 的 相应 参数 . 
 　 　 若 采用 型材 毛坯 ， 则 毛坯 的 形状 特征 应为 圆柱体 . 推算 毛坯 的 步骤 如下 ： 
 　 　 1 ) 周游 图 1 ( b ) 所示 的 二叉树 ， 根据 规则 1 对 有关 主 特征 进行 预处理 ； 图 1 ( a ) 中 的 主 特征 BF2 ( 齿轮 ) 、 BF5 ( 螺纹 ) 、 BF7 ( 花键 ) 经 预处理 后 转化 为 图 2 中 三个 相应 的 圆柱体 主 特征 和 三个 辅 特征 EF0 ( 齿轮 齿 ) 、 EF1 ( 螺纹 牙 ) 、 EF2 ( 花键 齿 ) ； 
 　 　 2 ) 周游 二叉树 ， 找出 外径 最大 的 特征 ( 记为 BF ) ， 毛坯 直径 应 等于 特征 BF 的 外径 ( D ) 加 二倍 的 单边 加工余量 ( Δ 1 ) ， 即 
 Φ = D + 2 Δ 1 ; 　 　 ( 1 ) 
 　 　 3 ) 搜索 二叉树 ， 找出 零件 轴线 上 两个 距离 最大 的 定位点 ， 记为 p , q ， 它们 是 三 坐标 位置矢量 ， 毛坯 的 长度 为 
 L = | | p - q | | + 2 Δ 2 , 　 　 ( 2 ) 
 其中 | | . | | 表示 矢量 的 长度 ， Δ 2 表示 端面 加工余量 . 
 4.2 　 提取 加工 特征 
 　 　 对于 型材 毛坯 ， 加工 特征 的 提取 表现 为 对 加工 特征 空间 的 分解 . 其 分解 规则 如下 ： 
 　 　 规则 2 . 先端 面 特征 后外 圆 特征 ， 先外 圆 特征 后 内孔 特征 ； 
 　 　 规则 3 . 相互 关联 的 外圆 特征 ， 从外 到 内 先 直径 大 的 特征 后 直径 小 的 特征 ； 
 　 　 规则 4 . 相互 关联 的 内孔 特征 ， 从 内 到 外先 直径 小 的 特征 后 直径 大 的 特征 ； 
 　 　 规则 5 . 加工 特征 的 有关 表面 上 的 尺寸 特征 、 精度 特征 和 表面质量 特征 等于 与 之 共轭 的 设计 特征 的 相应 表面 上 的 尺寸 特征 、 精度 特征 和 表面质量 特征 ； 
 　 　 规则 6 . 把 辅 特征 直接 转化 为 加工 特征 . 
 　 　 提取 加工 特征 的 步骤 如下 ： 
 　 　 1 ) 搜索 二叉树 ， 找出 直径 最大 的 主 特征 ( BF2 ) ， 通过 该 特征 左端 底面 圆心 作一 垂直于 零件 轴线 的 假想 平面 N ( 见图 2 ( a ) ) ， 把 加工 特征 空间 一分为二 ， 首先 分解 平面 N 以右 的 凸主 特征 对应 的 加工 特征 空间 ； 
 表 1 　 特征 序列 
 
 序 　 　 号 12345 
 特征 代号 BLKBF2BF3BF4BF5 
 
 　 　 2 ) 搜索 二叉树 ， 找出 所有 完全 ( 或 部分 ) 位于 平面 N 以右 的 凸主 特征 ， 建立 凸主 特征 链表 ， 并 把 毛坯 ( BLK ) 加入 该 链表 中 ， 根据 规则 3 按照 直径 从大到 小 进行 排序 ， 排序 结果 见表 1 ； 
 　 　 3 ) 根据 规则 2 首先 提取 端面 加工 特征 ， 把表 1 中 最后 一个 特征 记为 MFmin ， 把 端面 加工 特征 ( 形状 为 圆柱体 ) 记为 SF ， 则 有 
 　 　 . SF 的 外径 = BLK 的 外径 ， 
 　 　 . SF 的 左 底面 圆心 坐标 　 p = MFmin 的 右 底面 圆心 坐标 ， 
 　 　 . SF 的 右 底面 圆心 坐标 　 q = BLK 的 右 底面 圆心 坐标 ； 
 根据 规则 5 有 
 　 　 . SF 的 左 底面 的 表面质量 特征 等于 MFmin 的 右 底面 的 表面质量 特征 ； 
 　 　 4 ) 提取 圆周 方向 上 的 加工 特征 ， 形状 特征 均 为 圆筒 ， 步骤 如下 ： 
 　 　 ① 把表 1 中 的 第一个 特征 、 第二个 特征 、 最后 一个 特征 分别 记为 MF1 * , MF2 * , MFmin ， 把 当前 加工 特征 记为 CF ， 则 有 
 　 　 . CF 的 左 底面 圆心 坐标 　 p = MF2 * 左 底面 圆心 坐标 ， 
 　 　 . CF 的 右 底面 圆心 坐标 　 q = MFmin 右 底面 圆心 坐标 ； 
 根据 规则 5 有 
 　 　 . CF 的 外径 = MF1 * 的 直径 ， CF 的 内径 = MF2 * 的 直径 ， 
 　 　 . CF 的 内 圆柱面 的 精度 特征 和 表面质量 特征 分别 等于 MF2 * 的 圆柱面 的 精度 特征 和 表面质量 特征 ； 
 　 　 ② 去掉 表 1 中 的 第一个 特征 ， 转向 ① ， 直到 表中 只 剩 一个 特征 为止 . 
 　 　 同理 可以 对 平面 N 左边 的 凸主 特征 对应 的 加工 特征 空间 及 凹主 特征 对应 的 加工 特征 空间 进行 分解 . 加工 特征提取 完毕 还 必须 按照 一定 的 规则 对 加工 特征 进行 排序 ［ 2 ］ . 
 5 　 结 　 论 
 　 　 基于 知识 的 加工 特征提取 方法 实现 了 从 设计 特征 空间 向 加工 特征 空间 的 自动 映射 ， 从而 解决 了 CAD / CAPP / CAM 集成系统 中 数据共享 这一 难题 . 
 作者简介 ： 周生祥 　 1963 年 出生 ， 1998 年 获 浙江大学 工学 博士学位 ， 同年 进入 西北工业大学 航空 与 宇航 技术 博士后 流动站 做 研究 工作 . 已 在 国内 重要 期刊 上 发表 4 篇文章 . 现 主要 从事 CAD / CAPP / CAM 集成 技术 及 CIMS 的 研究 . 
 作者 单位 ： 西北工业大学 CAD / CAM 国家 专业 实验室 　 西安 　 710072 
 参考文献 
 1 　 周生祥 ， 冯培恩 ， 潘双夏 . 钣材 焊接 结构 加工 特征提取 方法 . 浙江大学 学报 ， 1997 ， 31 ( 4 ) ： 518 ～ 524 
 2 　 PhilipChenCL , StevenRLeclair . Integrationofdesignandmanufacture : solvingsetupgenerationandfeaturesequencingusinganunsupervisedlearningapproach . ComputerAidedDesign , 1994 , 26 ( 1 ) : 59 ～ 75 
 收稿 日期 　 1997 - 11 - 20 　 　 收 修改稿 日期 　 1998 - 11 - 23 研究 简报 
